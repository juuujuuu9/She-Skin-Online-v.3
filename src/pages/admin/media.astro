---
export const prerender = false;

import AdminLayout from '@layouts/AdminLayout.astro';
import { listMedia } from '@lib/upload-service';
import MediaManager from '@components/admin/MediaManager';

// Load initial media from database
const { media: initialMedia, total } = await listMedia({ limit: 50 });
---

<AdminLayout title="Media Library - she_skin Admin">
  <div class="px-4 sm:px-6 lg:px-8 py-4 flex-1 flex flex-col min-h-0 overflow-hidden">
    <h1 class="text-2xl font-bold text-[var(--admin-text-primary)] mb-4 shrink-0">Media Library</h1>

    <div class="flex-1 min-h-0">
      <MediaManager client:load initialMedia={initialMedia} />
    </div>
  </div>
</AdminLayout>
